<div class="row">
    <div class="col-12" align="left">
        <h1 align="left">Green Mountain</h1>
        <h4>Find the bite that's right for you! Discover food service offerings that align with your dietary needs.</h4>
    </div>
</div>







<br />
<!-- Main Accordion Body-->
<div class="row">
    <div class="col-lg-9">
        <div class="container" id="menuaccordion">

            <div class="accordion" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Breakfast
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">

                            <div class="accordion" id="sub-accordionExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub-headingOne">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#sub-collapseOne" aria-expanded="true"
                                            aria-controls="collapseOne">
                                            Waffles
                                        </button>
                                    </h2>
                                    <div id="sub-collapseOne" class="accordion-collapse collapse"
                                        aria-labelledby="sub-headingOne" data-bs-parent="#collapseOne">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about waffles
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub-headingTwo">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub-collapseTwo"
                                            aria-expanded="false" aria-controls="sub-collapseTwo">
                                            Sausage Breakfast Sandwich
                                        </button>
                                    </h2>
                                    <div id="sub-collapseTwo" class="accordion-collapse collapse"
                                        aria-labelledby="sub-headingTwo" data-bs-parent="#collapseOne">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Sausage Breakfast Sandwich
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub-headingThree">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub-collapseThree"
                                            aria-expanded="false" aria-controls="sub-collapseTwo">
                                            Fruit Cup
                                        </button>
                                    </h2>
                                    <div id="sub-collapseThree" class="accordion-collapse collapse"
                                        aria-labelledby="sub-headingThree" data-bs-parent="#collapseOne">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Fruit Cup
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                            Lunch
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">

                            <div class="accordion" id="sub2-accordionExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub2-headingOne">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#sub2-collapseOne" aria-expanded="true"
                                            aria-controls="collapseTwo">
                                            Poutine
                                        </button>
                                    </h2>
                                    <div id="sub2-collapseOne" class="accordion-collapse collapse"
                                        aria-labelledby="sub2-headingOne" data-bs-parent="#sub2-accordionExample">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Poutine
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub2-headingTwo">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub2-collapseTwo"
                                            aria-expanded="false" aria-controls="sub2-collapseTwo">
                                            Soup
                                        </button>
                                    </h2>
                                    <div id="sub2-collapseTwo" class="accordion-collapse collapse"
                                        aria-labelledby="sub2-headingTwo" data-bs-parent="#sub2-accordionExample">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Soup
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub2-headingThree">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub2-collapseThree"
                                            aria-expanded="false" aria-controls="sub2-collapseTwo">
                                            Schnitzel
                                        </button>
                                    </h2>
                                    <div id="sub2-collapseThree" class="accordion-collapse collapse"
                                        aria-labelledby="sub2-headingThree" data-bs-parent="#sub2-accordionExample">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Schnitzel
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                            Grab & Go Snacks
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">

                            <div class="accordion" id="sub3-accordionExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub3-headingOne">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#sub3-collapseOne" aria-expanded="true"
                                            aria-controls="collapseThree">
                                            Vegetable Samosa
                                        </button>
                                    </h2>
                                    <div id="sub3-collapseOne" class="accordion-collapse collapse"
                                        aria-labelledby="sub3-headingOne" data-bs-parent="#collapseThree">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Vegetable Samosa
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub3-headingTwo">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub3-collapseTwo"
                                            aria-expanded="false" aria-controls="sub3-collapseTwo">
                                            Tater tots
                                        </button>
                                    </h2>
                                    <div id="sub3-collapseTwo" class="accordion-collapse collapse"
                                        aria-labelledby="sub3-headingTwo" data-bs-parent="#collapseThree">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Tater tots
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub3-headingThree">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub3-collapseThree"
                                            aria-expanded="false" aria-controls="sub3-collapseTwo">
                                            Cheese Burger
                                        </button>
                                    </h2>
                                    <div id="sub3-collapseThree" class="accordion-collapse collapse"
                                        aria-labelledby="sub3-headingThree" data-bs-parent="#collapseThree">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about Cheese Burger
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="heading4">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapse4" aria-expanded="true" aria-controls="collapse4">
                            Pastries
                        </button>
                    </h2>
                    <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="heading4"
                        data-bs-parent="#accordionExample">
                        <div class="accordion-body">

                            <div class="accordion" id="sub4-accordionExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub-headingOne">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                            data-bs-target="#sub4-collapseOne" aria-expanded="true"
                                            aria-controls="collapse4">
                                            Carrot Muffin
                                        </button>
                                    </h2>
                                    <div id="sub4-collapseOne" class="accordion-collapse collapse"
                                        aria-labelledby="sub4-headingOne" data-bs-parent="#collapse4">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about carrot muffin
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub4-headingTwo">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub4-collapseTwo"
                                            aria-expanded="false" aria-controls="sub4-collapseTwo">
                                            Apple Turnover
                                        </button>
                                    </h2>
                                    <div id="sub4-collapseTwo" class="accordion-collapse collapse"
                                        aria-labelledby="sub4-headingTwo" data-bs-parent="#collapse4">
                                        <div class="accordion-body">
                                            Ingredients + Dietary, Nutritional info about apple turnover
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="sub4-headingThree">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#sub4-collapseThree"
                                            aria-expanded="false" aria-controls="sub4-collapseTwo">
                                            Accordion #1 Sub Item #3
                                        </button>
                                    </h2>
                                    <div id="sub4-collapseThree" class="accordion-collapse collapse"
                                        aria-labelledby="sub4-headingThree" data-bs-parent="#collapse4">
                                        <div class="accordion-body">
                                            Accordion #1 Sub Item #3
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>



    <div class="col-lg-3">
        <div class="container" id="dietary-guide">
            <h3 class="legend-heading">Dietary Guides</h3>
            <ul class="list-group" id="menu_legend">
                <li class="list-group-item d-flex align-items-center">
                    <span><img class="img-responsive h-auto w-10 rounded mx-auto d-block"
                            src="../images/icons/GlutenFree.png"></span>
                    Made without gluten
                </li>
                <li class="list-group-item d-flex align-items-center">
                    <span><img class="img-responsive h-auto w-10 rounded mx-auto"
                            src="../images/icons/GFOptions.png"></span>
                    Gluten-Sensitive options available
                </li>
                <li class="list-group-item d-flex align-items-center">
                    <span><img class="img-responsive h-auto w-10 rounded mx-auto d-block"
                            src="../images/icons/DairyFree.png"></span>
                    Made without dairy
                </li>
                <li class="list-group-item d-flex align-items-center">
                    <span><img class="img-responsive h-auto w-10 rounded mx-auto d-block"
                            src="../images/icons/Vegetarian.png"></span>
                    Vegetarian (may include egg or dairy)
                </li>
                <li class="list-group-item d-flex align-items-center">
                    <span><img class="img-responsive h-auto w-10 rounded mx-auto d-block"
                            src="../images/icons/Vegan.png"></span>
                    Vegan (items are vegetarian & dairy-free)
                </li>

            </ul>
        </div>
    </div>

</div>







<br>

<button type="button" class="btn btn-outline-danger btn-lg btn-lg3" onclick="window.location.href='index.html';">
    Go Back
</button>


<div class="col-lg-12">

</div>

<script>


    // JS HTML DOM document object is the owner of all other objects in page
    // .ready() offers a way to run JS code as soon as page's (DOM) becomes safe to manipulate.
    // Ready Click and Ajax are all functions of jQuery

    /* This function will search the OUTLET SPECIFIC  folder for menu CSV's (maybe these are presets)*/
    function getMenus() {
        /* Read names of CSV's into an array.
        
        Turns out this needs Node JS installed on the server.*/





    }

    /* This should be made to await the previous function */
    function createMenuCategoryArrays() {

        /* iterate array from getMenus func,
            Read the data for any errors with the image, or missing data,
            separate sections into their own arrays
            https://www.taniarascia.com/how-to-promisify-an-ajax-call/
        */
    }




    /**
     * @param file path
     */
    function loadMenus() {

        //This array will contain all menu items that are parsed from the file 
        const completeMenu = [];


        var itemName = "Waffles";

        /** Load the CSV data and split it into arrays of data for processing later. */
        $(document).ready(function () {
            $.ajax({
                //This is a SEMICOLON DELIMITED CSV file in the ROOT FOLDER.
                url: "./files/menus/green_mountain/breakfast_greenmountain.csv",
                //type of data to expect
                dataType: "text",

                //success will run a function when the pairs above resolve successfully
                success: function (data) {
                    // split file into entries by linebreak
                    var menu_list = data.split(/\r?\n|\r/);
                    const menu_dataset = [];

                    //loop to iterate through the length of the array
                    for (var counter = 0; counter < menu_list.length; counter++) {
                        /* Split the menu_list into entries. This is
                            another Array containing the information for one supplier.*/

                        if (counter === 0 || menu_list[counter] === "") {
                            //SKIP HEADERS or EMPTY LEADING CELLS. 
                            continue;
                        }

                        completeMenu.push(menu_list[counter].split(";"));
                        //the array of our formatted suppliers, ready to write data to new arrays. 

                    }
                    //UNCOMMENT FOR DEBUG
                    console.log("Logging completeMenu variable after split: " + completeMenu);

                    console.table(completeMenu);


                },



            });


        }
        )
    }

    loadMenus();

</script>